{"version":3,"sources":["webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/install-error-cause.js","webpack:///./node_modules/core-js/internals/error-stack-installable.js","webpack:///./node_modules/core-js/internals/clear-error-stack.js","webpack:///./node_modules/core-js/modules/es.error.cause.js","webpack:///./node_modules/core-js/internals/normalize-string-argument.js","webpack:///./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/views/location/js/CoordTransfer.js"],"names":["isCallable","isObject","setPrototypeOf","module","exports","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","createNonEnumerableProperty","O","options","cause","fails","createPropertyDescriptor","error","Error","Object","defineProperty","stack","uncurryThis","replace","TEST","arg","String","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","dropEntries","$","global","apply","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","FORCED","exportGlobalErrorCauseWrapper","ERROR_NAME","wrapper","forced","exportWebAssemblyErrorCauseWrapper","target","stat","init","message","this","arguments","toString","argument","$default","undefined","length","getBuiltIn","hasOwn","isPrototypeOf","copyConstructorProperties","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","IS_PURE","FULL_NAME","IS_AGGREGATE_ERROR","OPTIONS_POSITION","path","split","OriginalError","OriginalErrorPrototype","BaseError","WrappedError","a","b","result","name","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","i","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","pi","x_pi","CoordTransfer","lnglat","gcjLat","lat","gcjLon","lng","d","delta","lon","baidu_point","mars_point","x","y","z","Math","sqrt","sin","theta","atan2","cos","location","location1","baiduTomars","location2","transformGCJ2WGS","ret","abs","ee","dLat","transformLat","dLon","transformLon","radLat","magic","sqrtMagic"],"mappings":"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","file":"js/chunk-9a5e7a5e.6d918ac1.js","sourcesContent":["var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string') {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","/*\r\n * @Author: luobr\r\n * @Date: 2023-11-05 20:27:48\r\n * @LastEditors: luobr\r\n * @LastEditTime: 2023-11-05 20:51:07\r\n * @Description: 坐标转换（百度地图、GCJ、WGS84），参考链接：https://juejin.cn/post/6990647685711659015\r\n */\r\nvar pi = 3.14159265358979324;\r\nconst x_pi = (3.14159265358979324 * 3000.0) / 180.0;\r\nclass CoordTransfer{\r\n    constructor(){}\r\n    /**\r\n     * @description: 火星坐标系GCJ02转地球坐标系WGS84\r\n     * @param {*} lnglat\r\n     * @return {*}\r\n     */    \r\n    transformGCJ2WGS(lnglat) {\r\n        const gcjLat = lnglat.lat;\r\n        const gcjLon = lnglat.lng;\r\n        let d = this.delta(gcjLat, gcjLon);\r\n        return {\r\n            lat: gcjLat - d.lat,\r\n            lng: gcjLon - d.lon,\r\n        };\r\n    }\r\n    /**\r\n     * 百度坐标转火星坐标：\r\n     * @param {*} baidu_point\r\n     * @returns\r\n     */\r\n    baiduTomars(baidu_point) {\r\n        var mars_point = { lng: 0, lat: 0 };\r\n        var x = baidu_point.lng - 0.0065;\r\n        var y = baidu_point.lat - 0.006;\r\n        var z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * x_pi);\r\n        var theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * x_pi);\r\n        mars_point.lng = z * Math.cos(theta);\r\n        mars_point.lat = z * Math.sin(theta);\r\n        return mars_point;\r\n    }\r\n\r\n    //百度转84\r\n    BDTo84(location){\r\n        let location1 = this.baiduTomars(location);\r\n        let location2 = this.transformGCJ2WGS(location1);\r\n        return location2;\r\n    }\r\n\r\n    transformLat(x, y) {\r\n        var ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));\r\n        ret += ((20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0) /3.0;\r\n        ret += ((20.0 * Math.sin(y * pi) + 40.0 * Math.sin((y / 3.0) * pi)) * 2.0) /3.0;\r\n        ret += ((160.0 * Math.sin((y / 12.0) * pi) + 320 * Math.sin((y * pi) / 30.0)) * 2.0) / 3.0;\r\n        return ret;\r\n    }\r\n\r\n    transformLon(x, y) {\r\n        var ret = 300.0 +  x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));\r\n        ret += ((20.0 * Math.sin(6.0 * x * pi) + 20.0 * Math.sin(2.0 * x * pi)) * 2.0) / 3.0;\r\n        ret += ((20.0 * Math.sin(x * pi) + 40.0 * Math.sin((x / 3.0) * pi)) * 2.0) / 3.0;\r\n        ret += ((150.0 * Math.sin((x / 12.0) * pi) + 300.0 * Math.sin((x / 30.0) * pi)) * 2.0) /3.0;\r\n        return ret;\r\n    }\r\n\r\n    delta(lat, lon) {\r\n        let a = 6378245.0; //  a: 卫星椭球坐标投影到平面地图坐标系的投影因子。\r\n        let ee = 0.00669342162296594323; //  ee: 椭球的偏心率。\r\n        let dLat = this.transformLat(lon - 105.0, lat - 35.0);\r\n        let dLon = this.transformLon(lon - 105.0, lat - 35.0);\r\n        let radLat = (lat / 180.0) * pi;\r\n        let magic = Math.sin(radLat);\r\n        magic = 1 - ee * magic * magic;\r\n        let sqrtMagic = Math.sqrt(magic);\r\n        dLat = (dLat * 180.0) / (((a * (1 - ee)) / (magic * sqrtMagic)) * pi);\r\n        dLon = (dLon * 180.0) / ((a / sqrtMagic) * Math.cos(radLat) * pi);\r\n        return {\r\n            lat: dLat,\r\n            lon: dLon,\r\n        };\r\n    }\r\n}\r\nexport default new CoordTransfer();"],"sourceRoot":""}